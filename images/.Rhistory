label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
}
index_plot[[3]]
items[,i]
ggplot(items, aes(x = correctsocdem, y = items[,i])) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items[,i], na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
i <-3
ggplot(items, aes(x = correctsocdem, y = items[,i])) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items[,i], na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
crnt_var <- as.character(names(items)[i])
crnt_var
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items[,i], na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
crnt_var
View(items)
crnt_var <- items[,i]
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items[,i], na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
index_plot <- list()
for(i in 3:16){
crnt_mod <- lm(items[,i] ~ correctsocdem, data = items)
crnt_var <- items[,i]
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items[,i], na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
}
index_plot[[3]]
index_plot <- list()
for(i in 3:16){
crnt_mod <- lm(items[,i] ~ correctsocdem, data = items)
items$crnt_var <- items[,i]
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items[,i], na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
}
index_plot[[3]]
round(coef(crnt_mod)[2],digits = 2)
index_plot <- list()
for(i in 3:16){
crnt_mod <- lm(items[,i] ~ correctsocdem, data = items)
items$crnt_var <- items[,i]
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
}
index_plot[[3]]
i<-3
crnt_mod <- lm(items[,i] ~ correctsocdem, data = items)
items$crnt_var <- items[,i]
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
index_plot[[3]]
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
coef(crnt_mod)[2]
items[,i]
crnt_mod <- lm(items[,i] ~ correctsocdem, data = items)
index_plot <- list()
for(i in 3:16){
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
}
index_plot[[3]]
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
i<-3
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
index_plot[[3]]
i<-3
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
summary(crnt_mod)
View(items)
items <- df[,c(12,55,40:53)]
items <- as.data.frame(items)
index_plot <- list()
i<-3
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
summary(crnt_mod)
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
index_plot <- list()
for(i in 3:16){
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = "Fiscal Conservatism",
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = round(coef(crnt_mod)[2],digits = 2)) +
geom_smooth(method = "lm", se = F)
}
index_plot[[3]]
index_plot[[4]]
index_plot[[5]]
index_plot[[6]]
View(df)
index_plot[[7]]
index_plot[[8]]
index_plot[[9]]
index_plot[[10]]
index_plot[[11]]
index_plot[[12]]
index_plot[[13]]
index_plot[[14]]
index_plot[[15]]
index_plot[[16]]
library(gridExtra)
grid.arrange(index_plot[[3]], index_plot[[4]], index_plot[[5]],
index_plot[[6]], index_plot[[7]], index_plot[[8]],
index_plot[[9]], index_plot[[10]], index_plot[[11]],
index_plot[[12]], index_plot[[13]], index_plot[[14]],
index_plot[[15]], index_plot[[16]])
warnings()
sqrt(diag(vcov(crnt_mod)))[2]
index_plot <- list()
for(i in 3:16){
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\m",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F)
}
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\m",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F)
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F)
index_plot <- list()
for(i in 3:16){
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 3, y = max(items$crnt_var, na.rm=T),
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F)
}
index_plot[[3]]
index_plot <- list()
for(i in 3:16){
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point() +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 2.5, y = max(items$crnt_var, na.rm=T),
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F)
}
index_plot[[3]]
index_plot[[3]]
i<-3
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point(colour = "gray") +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 2.5, y = max(items$crnt_var, na.rm=T),
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F)
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point(colour = "gray") +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 2.5, y = max(items$crnt_var, na.rm=T),
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F,
color = "black")
index_plot <- list()
for(i in 3:16){
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point(colour = "gray") +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 2.5, y = max(items$crnt_var, na.rm=T),
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F,
color = "black")
}
index_plot[[3]]
grid.arrange(index_plot[[3]], index_plot[[4]], index_plot[[5]],
index_plot[[6]], index_plot[[7]], index_plot[[8]],
index_plot[[9]], index_plot[[10]], index_plot[[11]],
index_plot[[12]], index_plot[[13]], index_plot[[14]],
index_plot[[15]], index_plot[[16]],
bottom = "Fiscal Conservatism")
all_items<-grid.arrange(index_plot[[3]], index_plot[[4]], index_plot[[5]],
index_plot[[6]], index_plot[[7]], index_plot[[8]],
index_plot[[9]], index_plot[[10]], index_plot[[11]],
index_plot[[12]], index_plot[[13]], index_plot[[14]],
index_plot[[15]], index_plot[[16]],
bottom = "Fiscal Conservatism")
setwd("~/GitHub/Danish_muni/images")
ggsave(all_items, filename = "ItemRest.eps",
device = cairo_ps)
ggsave(all_items, filename = "ItemRest.eps",
device = cairo_ps, height = 10, width = 7)
index_plot <- list()
for(i in 3:16){
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point(colour = "gray") +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 2.5, y = max(items$crnt_var, na.rm=T)-1,
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F,
color = "black")
}
all_items<-grid.arrange(index_plot[[3]], index_plot[[4]], index_plot[[5]],
index_plot[[6]], index_plot[[7]], index_plot[[8]],
index_plot[[9]], index_plot[[10]], index_plot[[11]],
index_plot[[12]], index_plot[[13]], index_plot[[14]],
index_plot[[15]], index_plot[[16]],
bottom = "Fiscal Conservatism")
setwd("~/GitHub/Danish_muni/images")
ggsave(all_items, filename = "ItemRest.eps",
device = cairo_ps, height = 10, width = 7)
ggsave(all_items, filename = "ItemRest.eps",
device = cairo_ps, height = 10, width = 10)
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point(colour = "gray") +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 2.5, y = max(items$crnt_var, na.rm=T)-1,
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F,
color = "black") +
scale_x_continuous(limits = -2.5, 3.5)
ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point(colour = "gray") +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 2.5, y = max(items$crnt_var, na.rm=T)-1,
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F,
color = "black") +
scale_x_continuous(limits = c(-2.5, 3.5))
index_plot <- list()
for(i in 3:16){
items$crnt_var <- items[,i]
crnt_mod <- lm(crnt_var ~ correctsocdem, data = items)
index_plot[[i]] <- ggplot(items, aes(x = correctsocdem, y = crnt_var)) +
geom_point(colour = "gray") +
theme_classic() +
labs(x = NULL,
y = real_name[i-2]) +
annotate(geom="text",
x = 2.5, y = max(items$crnt_var, na.rm=T)-1,
label = paste("Est=",round(coef(crnt_mod)[2],digits = 2),"\n",
"SE=",round(sqrt(diag(vcov(crnt_mod)))[2],digits = 2),
sep = "")) +
geom_smooth(method = "lm", se = F,
color = "black") +
scale_x_continuous(limits = c(-2.5, 3.5))
}
all_items<-grid.arrange(index_plot[[3]], index_plot[[4]], index_plot[[5]],
index_plot[[6]], index_plot[[7]], index_plot[[8]],
index_plot[[9]], index_plot[[10]], index_plot[[11]],
index_plot[[12]], index_plot[[13]], index_plot[[14]],
index_plot[[15]], index_plot[[16]],
bottom = "Fiscal Conservatism")
ggsave(all_items, filename = "ItemRest.eps",
device = cairo_ps, height = 10, width = 10)
0.13*1
0.87*13
0.87*.13
1.29*.13
.71*.13
1.79*.13
.82*.13
alpha_items <- items[,-c(1,2)]
View(alpha_items)
psych::alpha(alpha_items)
install.packages("psych")
psych::alpha(alpha_items)
psych::alpha(alpha_items,check.keys=TRUE)
alpha_items <- items[,-c(1,2,15)]
psych::alpha(alpha_items,check.keys=TRUE)
View(all_items)
View(items)
alpha_items <- items[,-c(1,2,17)]
psych::alpha(alpha_items,check.keys=TRUE)
cor(alpha_items)
cor(alpha_items, use = "pairwise.complete.obs")
ca <- psych::alpha(alpha_items,check.keys=TRUE)
ca_drop <- ca$alpha.drop
View(ca_drop)
ca_drop <- ca_drop[, c(2,6)]
View(ca_drop)
ca_drop$var <-  c("Income Tax",
"Property Tax",
"Public Employees",
"Day Care",
"Food Delivery",
"Nursing Home",
"Relief Stay",
"Competition",
"Privately Operated\nServices",
"Public Housing",
"Class Size",
"Spending pr. Pupil",
"Commercial Real Estate Tax",
"Spending/capita")
View(ca_drop)
stargazer(ca_drop, summary=F)
ca_drop <- ca_drop[,c(3,1,2)]
View(ca_drop)
rownames(ca_drop) <- NULL
stargazer(ca_drop, summary=F)
rownames(ca_drop) <-  c("Income Tax",
"Property Tax",
"Public Employees",
"Day Care",
"Food Delivery",
"Nursing Home",
"Relief Stay",
"Competition",
"Privately Operated\nServices",
"Public Housing",
"Class Size",
"Spending pr. Pupil",
"Commercial Real Estate Tax",
"Spending/capita")
ca_drop$var<-NULL
View(ca_drop)
stargazer(ca_drop, summary=F)
psych::alpha(alpha_items,check.keys=TRUE)
library(GGally)
ggpairs(alpha_items)
warnings()
na_items <- na.omit(alpha_items)
ggpairs(na_items)
ggpairs(na_items,
title = "", axisLabels = "show",
lower=list(continuous=wrap("smooth", colour="grey")),
diag=list(continuous=wrap("barDiag", fill="grey")) )
cor_mat <- cor(alpha_items, use = "pairwise.complete.obs")
View(cor_mat)
cor_mat <- lower.tri(cor_mat)
cor_mat <- cor(alpha_items,
use = "pairwise.complete.obs")
cor_mat[upper.tri(cor_mat)] <- NA
View(cor_mat)
cor_mat[upper.tri(cor_mat, diag=F)] <- NA
View(cor_mat)
cor_mat[upper.tri(cor_mat, diag=T)] <- NA
View(cor_mat)
stargazer(cor_mat, summary = F)
